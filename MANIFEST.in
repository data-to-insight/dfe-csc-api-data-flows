# Core metadata and docs for PyPI
include LICENSE
include README.md
include pyproject.toml
include api_pipeline/README.md
include api_pipeline/.env.example

# General hygiene (keep bytecode and junk out of the sdist)
global-exclude *.py[cod]
global-exclude __pycache__/*
global-exclude .DS_Store
global-exclude *.spec
global-exclude .ipynb_checkpoints/*
global-exclude *.nbconvert.ipynb
global-exclude .env

# Prune build outputs and CI artefacts (repo level)
prune build
prune dist
prune release_bundle
prune site
prune csc_api_pipeline.egg-info
prune .github
prune docs
prune notebooks
prune scripts          # root scripts helper folder, not shipped
prune pre_flight_checks

# Dev only helpers inside the package
prune api_pipeline/scripts

# Package data to ship inside wheel and sdist
graft api_pipeline/notebooks
graft api_pipeline/pshell_api_sender

# SQL helpers at repo root, include .sql, drop dev bucket
recursive-include build_dfe_payload_staging *.sql
prune build_dfe_payload_staging/dev

# Root level dev files not needed in sdist
exclude mkdocs.yml
exclude requirements.txt
exclude pytest.ini
exclude clean.sh
exclude setup.sh
exclude release.sh
exclude sccm.yml
exclude sccm_graph_static.svg
